<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jonas - Stories</title>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400|Cabin:600|Amiko" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/photo-gallery/navbar.css">
</head>

<body class="flex h-screen bg-black text-white overflow-hidden font-amiko font-[400]">
    <!-- Mobile menu button -->
    <div class="lg:hidden flex justify-end mb-4 top-[1em] left-[1em] z-[1] absolute">
        <button id="mobile-menu-button" class="text-white focus:outline-none">
            <i class="fas fa-bars text-2xl"></i>
        </button>
    </div>

    <!-- Left sidebar -->
    <div class="p-0 lg:p-8 flex flex-col justify-between h-full">
        <div id="nav-content" class="flex-grow lg:block hidden max-w:[30%]">
            <div>
                <div class="hidden lg:block hover:scale-105 hover:text-red-800">
                    <a href="/photo-gallery/">
                        <h1 class="text-3xl">Jonas Schledorn</h1>
                        <h2 class="text-base mb-8 text-gray-600">PHOTOGRAPHER</h2>
                    </a>
                </div>
                <nav class="flex flex-col space-y-2">
                    <a href="/photo-gallery/" class="lg:hidden hover:text-red-800 transition">Home</a>
                    <a href="/photo-gallery/bio" class="text-base hover:text-red-800 transition">Bio</a>
                    <a href="/photo-gallery/news" class="text-base text-red-800 hover:text-red-300 transition">News</a>
                    <a href="/photo-gallery/stories" class="text-base hover:text-red-800 transition">Stories</a>
                    <a href="/photo-gallery/prints" class="text-base hover:text-red-800 transition">Prints</a>
                    <a href="/photo-gallery/contact" class="text-base hover:text-red-800 transition">Contact</a>
                </nav>
            </div>
        </div>
        <div class="flex space-x-4 ml-3 lg:block hidden">
            <a href="#" class="hover:text-gray-300 transition">
                <i class="fab fa-instagram text-xl"></i>
            </a>
            <a href="#" class="hover:text-gray-300 transition">
                <i class="fab fa-twitter text-xl"></i>
            </a>
        </div>
    </div>


    <!-- News Content -->
    <div class="w-full h-full overflow-y-auto lg:pl-4 lg:p-4">
        <h1 class="text-4xl font-cabin font-[400] pl-12 pt-3 absolute w-full bg-black pb-4 lg:hidden">News</h1>
        <div class="pt-20 lg:pt-4 p-4">
            <!-- News Grid -->
            <div id="news-grid" class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <!-- News Item 1 -->
                <div class="news-item cursor-pointer group " data-news="1">
                    <img src="./n1-cover.jpg" alt="News 1"
                        class="size-full object-cover rounded-lg group-hover:scale-[101%] duration-300">
                    <h3 class="mt-4 text-red-800">News Type</h3>
                    <h3 class="text-xl group-hover:font-bold duration-75">News Book Title 1</h3>
                    <p class="text-gray-400 text-sm mt-1">15 / Mar / 2020</p>
                </div>

                <!-- News Item 2 -->
                <div class="news-item cursor-pointer group pt-20 lg:pt-0" data-news="2">
                    <img src="./n2-cover.jpg" alt="News 1"
                        class="size-full object-cover rounded-lg hover:scale-[101%] duration-300">
                    <h3 class="mt-4 text-red-800">News Type</h3>
                    <h3 class="text-xl group-hover:font-bold duration-75">News Book Title 2</h3>
                    <p class="text-gray-400 text-sm mt-1">16 / Jul / 2020</p>
                </div>
            </div>

            <!-- News Detail View (hidden by default) -->
            <div id="news-detail" class="hidden mt-8">
                <button id="back-button" class="mb-6 flex items-center text-red-800 hover:text-red-300 transition">
                    <i class="fas fa-arrow-left mr-2"></i> Back to News
                </button>

                <div class="lg:flex gap-8">
                    <!-- Images Grid -->
                    <div class="lg:w-2/3 grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="image-item cursor-pointer" data-index="0">
                            <img src="" alt="" class="w-full h-64 object-cover rounded-lg">
                        </div>
                        <div class="image-item cursor-pointer" data-index="1">
                            <img src="" alt="" class="w-full h-64 object-cover rounded-lg">
                        </div>
                        <div class="image-item cursor-pointer" data-index="2">
                            <img src="" alt="" class="w-full h-64 object-cover rounded-lg">
                        </div>
                        <div class="image-item cursor-pointer" data-index="3">
                            <img src="" alt="" class="w-full h-64 object-cover rounded-lg">
                        </div>
                    </div>

                    <!-- Text Content -->
                    <div class="lg:w-1/3 mt-6 lg:mt-0">
                        <h2 id="detail-title" class="text-2xl font-cabin mb-4"></h2>
                        <div id="detail-content" class="text-gray-300 space-y-4"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Slideshow Overlay -->
    <div id="slideshow-overlay" class="fixed inset-0 bg-black/90 hidden z-50">
        <div class="relative w-full h-full">
            <!-- Close Button -->
            <button class="absolute top-4 right-4 text-white text-3xl z-50 hover:text-red-800 transition">
                &times;
            </button>

            <!-- Navigation Arrows -->
            <button id="prev-btn"
                class="hidden lg:block absolute left-4 top-1/2 -translate-y-1/2 text-white text-4xl hover:text-red-800 transition">
                ❮
            </button>
            <button id="next-btn"
                class="hidden lg:block absolute right-4 top-1/2 -translate-y-1/2 text-white text-4xl hover:text-red-800 transition">
                ❯
            </button>

            <!-- Slides Container -->
            <div id="slides-container" class="h-full w-full flex items-center justify-center">
                <div class="relative max-w-4xl mx-auto">
                    <img id="current-slide" class="max-h-[80vh] object-contain transition-opacity duration-300">
                    <div id="slide-caption" class="text-center mt-4 text-gray-300 text-lg"></div>
                </div>
            </div>

            <!-- Dots Navigation -->
            <div id="dots-container" class="absolute bottom-8 left-1/2 -translate-x-1/2 flex space-x-2"></div>
        </div>
    </div>

    <script>
        // Sample news data
        const news = {
            1: {
                title: "Title 1",
                images: [
                    {image: "./n1-1.jpg", caption: "caption 1-1"},
                    {image: "./n1-2.jpg", caption: "caption 1-2"},
                    {image: "./n1-3.jpg", caption: "caption 1-3"},
                    {image: "./n1-4.jpg", caption: "caption 1-4"},
                ],
                content: `
                    <p>content content content</p>
                    <p>content2 contetn2 contetn2.</p>
                    <p>content3 contetn3 contetn3.</p>
                `
            },
            2: {
                title: "Title 2",
                images: [
                    {image: "./n2-1.jpg", caption: "Caption 2-1"},
                    {image: "./n2-2.jpg", caption: "Caption 2-2"},
                    {image: "./n2-3.jpg", caption: "Caption 2-3"},
                    {image: "./n2-4.jpg", caption: "Caption 2-4"},
                ],
                content: `
                    <p>content content content</p>
                    <p>content2 contetn2 contetn2.</p>
                    <p>content3 contetn3 contetn3.</p>
                `
            }
        };

        let currentNews = null;
        let currentSlideIndex = 0;

        // Open news detail view
        document.querySelectorAll('.news-item').forEach(item => {
            item.addEventListener('click', () => {
                currentNews = news[item.dataset.news];

                // Update detail view
                document.getElementById('detail-title').textContent = currentNews.title;
                document.getElementById('detail-content').innerHTML = currentNews.content;

                // Update images grid
                const imageItems = document.querySelectorAll('.image-item');
                currentNews.images.forEach((img, index) => {
                    if (imageItems[index]) {
                        imageItems[index].querySelector('img').src = img.image;
                        imageItems[index].querySelector('img').alt = img.caption;
                    }
                });

                // Show detail view
                document.getElementById('news-grid').classList.add('hidden');
                document.getElementById('news-detail').classList.remove('hidden');
            });
        });

        // Back button
        document.getElementById('back-button').addEventListener('click', () => {
            document.getElementById('news-grid').classList.remove('hidden');
            document.getElementById('news-detail').classList.add('hidden');
        });

        // Open slideshow from image grid
        document.querySelectorAll('.image-item').forEach(item => {
            item.addEventListener('click', () => {
                currentSlideIndex = parseInt(item.dataset.index);
                showSlide();
                document.getElementById('slideshow-overlay').classList.remove('hidden');
                document.body.classList.add('overflow-hidden');
            });
        });

        // Close slideshow
        document.querySelector('#slideshow-overlay button').addEventListener('click', () => {
            document.getElementById('slideshow-overlay').classList.add('hidden');
            document.body.classList.remove('overflow-hidden');
        });

        // Navigation
        document.getElementById('prev-btn').addEventListener('click', () => navigate(-1));
        document.getElementById('next-btn').addEventListener('click', () => navigate(1));

        function navigate(direction) {
            if (!currentNews) return;
            currentSlideIndex = (currentSlideIndex + direction + currentNews.images.length) % currentNews.images.length;
            showSlide();
        }

        function showSlide() {
            if (!currentNews) return;
            const slide = currentNews.images[currentSlideIndex];
            const img = document.getElementById('current-slide');
            img.src = slide.image;
            img.alt = slide.caption;
            document.getElementById('slide-caption').textContent = slide.caption;

            // Update dots
            const dotsContainer = document.getElementById('dots-container');
            dotsContainer.innerHTML = currentNews.images
                .map((_, i) => `<div class="w-3 h-3 rounded-full ${i === currentSlideIndex ? 'bg-red-800' : 'bg-gray-600'} cursor-pointer"></div>`)
                .join('');

            // Add dot click handlers
            dotsContainer.querySelectorAll('div').forEach((dot, i) => {
                dot.addEventListener('click', () => {
                    currentSlideIndex = i;
                    showSlide();
                });
            });
        }

        // Mobile menu handling
        document.getElementById('mobile-menu-button').addEventListener('click', function () {
            const navContent = document.getElementById('nav-content');
            navContent.classList.toggle('hidden');
            const icon = this.querySelector('i');
            icon.classList.toggle('fa-bars');
            icon.classList.toggle('fa-times');
        });

        document.querySelectorAll('#nav-content a').forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth < 1024) {
                    document.getElementById('nav-content').classList.add('hidden');
                    document.getElementById('mobile-menu-button').querySelector('i').classList.replace('fa-times', 'fa-bars');
                }
            });
        });
    </script>
</body>

</html>
